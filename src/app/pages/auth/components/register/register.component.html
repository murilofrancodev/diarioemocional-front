<div class="container">
  <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
    <div *ngIf="currentStep === 1">
      <div class="form-group">
        <label for="email">E-mail</label>
        <input type="email" id="email" class="form-control" required [(ngModel)]="email" name="email" placeholder="Digite seu e-mail">
      </div>
      <div class="form-group">
        <label for="displayName">Nome Completo</label>
        <input type="displayName" id="displayName" class="form-control" required [(ngModel)]="displayName" name="displayName" placeholder="Digite seu nome completo">
      </div>
      <button type="submit" class="btn btn-primary full-width mt-3" [disabled]="!email || !displayName">Avançar</button>
    </div>

    <div *ngIf="currentStep === 2">
      <div class="form-group">
        <label for="password">Senha</label>
        <div class="input-group">
          <input 
            type="password" 
            id="password" 
            class="form-control" 
            required 
            [(ngModel)]="password" 
            name="password" 
            [type]="passwordVisible ? 'text' : 'password'" 
            (focus)="passwordVisible = true" 
            (blur)="passwordVisible = false" 
            (input)="checkPasswordStrength()"
            placeholder="Digite sua senha">
        </div>
        <div class="mt-2">
          <div class="progress">
            <div 
              class="progress-bar" 
              [ngClass]="{'bg-success': passwordStrength === 'Forte', 'bg-warning': passwordStrength === 'Média', 'bg-danger': passwordStrength === 'Fraca'}" 
              [style.width]="getPasswordStrengthPercentage() + '%'" 
              role="progressbar">
            </div>
          </div>
          <small class="mt-1">Força da senha: {{ passwordStrength }}</small>
        </div>
      </div>
      <div class="form-group">
        <label for="confirmPassword">Confirmar Senha</label>
        <div class="input-group">
          <input 
            type="password" 
            id="confirmPassword" 
            class="form-control" 
            required 
            [(ngModel)]="confirmPassword" 
            name="confirmPassword" 
            (focus)="passwordVisible = true" 
            (blur)="passwordVisible = false"
            placeholder="Confirme sua senha">
        </div>
      </div>
      <button type="submit" class="btn btn-primary full-width mt-3 mb-2">Registrar</button>
    </div>

   <!-- <div *ngIf="currentStep === 3">
      <div class="form-group">
        <label for="pin">PIN (4 dígitos)</label>
        <input 
          type="text" 
          id="pin" 
          class="form-control" 
          required 
          [(ngModel)]="pin" 
          name="pin" 
          maxlength="4" 
          placeholder="****" 
          pattern="[0-9]*" 
          inputmode="numeric" 
          autocomplete="off"
          readonly> 
      </div>
      <div class="num-pad">
        <div class="row">
          <button type="button" (click)="addToPin('1')" class="btn btn-secondary">1</button>
          <button type="button" (click)="addToPin('2')" class="btn btn-secondary">2</button>
          <button type="button" (click)="addToPin('3')" class="btn btn-secondary">3</button>
        </div>
        <div class="row">
          <button type="button" (click)="addToPin('4')" class="btn btn-secondary">4</button>
          <button type="button" (click)="addToPin('5')" class="btn btn-secondary">5</button>
          <button type="button" (click)="addToPin('6')" class="btn btn-secondary">6</button>
        </div>
        <div class="row">
          <button type="button" (click)="addToPin('7')" class="btn btn-secondary">7</button>
          <button type="button" (click)="addToPin('8')" class="btn btn-secondary">8</button>
          <button type="button" (click)="addToPin('9')" class="btn btn-secondary">9</button>
        </div>
        <div class="row">
          <button type="button" (click)="clearPin()" class="btn btn-secondary">C</button>
          <button type="button" (click)="addToPin('0')" class="btn btn-secondary">0</button>
          <button type="button" (click)="removeLastDigit()" class="btn btn-secondary">←</button>
        </div>
      </div>
      <button type="submit" class="btn btn-primary full-width mt-3">Registrar</button>
    </div> -->
  </form>
</div>